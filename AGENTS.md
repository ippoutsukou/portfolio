# AGENTS.md

## このサイトの目的
- 公開用ポートフォリオサイト（静的サイト）を安全に運用する。
- GitHub Pages/静的ホスティングで「誰でも閲覧可」である前提を守る。

## 絶対ルール（Must）
1. 秘密情報をコミットしない（APIキー/トークン/個人情報/社内情報/顧客情報）
2. 公開不要ファイルを置かない（`*.bak`, `*.old`, `*.zip`, `tmp/`, `draft/`, `backup/`, `*.log`）
3. フロントJSにAPIキーを埋め込まない（必要ならバックエンド化）
4. 外部CDNは採用理由・用途・バージョン固定を記録し、可能ならSRIを付与する
5. 公開前に `security-audit` スキルを必ず実行する

## このサイト向け追加ルール
- 直リンクで公開される前提で、`indexcopy.html` や一時HTMLなどの予備ファイルは公開対象から外すか削除する。
- `.zip`（例: テンプレート配布物）は公開不要ならリポジトリ外で管理する。
- URLに日本語ファイル名を使う場合、リンク切れ防止のためURLエンコードでの動作を確認する。
- 外部リンクは `rel="noopener noreferrer"` を付与し、`target="_blank"` とセットで使う。

## 推奨ルール（Should）
- `innerHTML` / `insertAdjacentHTML` の使用を最小化し、`textContent` 優先。
- `location.search` / `location.hash` を描画する際は必ずサニタイズ。
- 可能なら公開前に手動で以下を確認：
  - 主要ページ（`index.html`, `works.html`）のリンク切れ
  - 外部CDN障害時の劣化挙動
  - モバイル表示崩れ

## 変更時のチェックフロー
1. `security-audit` を実行し、指摘を修正
2. 公開物の棚卸し（不要ファイル削除）
3. 外部CDN追加/変更の理由と影響を記録
4. GitHub Pages公開URLで実機確認
