# ShiftBoard

ローカル環境で動作する軽量なシフト管理システムです。CSVファイルでデータを管理し、ガントチャートやグリッド形式で直感的にシフトを編集できます。

## 特徴

*   **サーバー不要**: ブラウザだけで動作し、データはお手元のCSVファイルで管理します。
*   **2つのビュー**:
    *   **グリッド画面**: 「工程×日付」または「作業者×日付」のマトリクス表示で全体を把握。
    *   **ガント画面**: 時間軸に沿ったバー表示で、ドラッグ＆ドロップによる直感的な編集が可能。
*   **直感的な操作**:
    *   グリッドのセルをクリックして担当者をチェックリストで編集。
    *   ガントバーをドラッグして時間変更、ダブルクリックで削除。
*   **CSV入出力**:
    *   **直接上書き保存**: Chrome/Edgeなどの対応ブラウザでは、File System Access APIを使用して開いたCSVファイルを直接上書き保存できます。
    *   **互換モード**: 非対応ブラウザではダウンロード形式で保存できます。

## 使い方

### 1. 起動
プロジェクトフォルダ内の `index.html` を Chrome または Edge で開いてください。
（Firefoxなど他のブラウザでも動作しますが、上書き保存機能は使用できません）

### 2. CSV読込
画面右上の「CSV読込」ボタンをクリックし、シフトデータが記載されたCSVファイルを選択します。
同梱の `sample_data.csv` を使用して動作を確認できます。

**CSVフォーマット（必須列）**:
```csv
date,worker,process,start,end,id,note
2026-02-05,佐藤,検査,08:30,10:00,A20260205-001,新人OJT
```

### 3. シフト編集
*   **管理画面1 (グリッド)**:
    *   セルをクリックすると、その枠（工程×日付 または 作業者×日付）に割り当てる要素をチェックリストで選択できます。
    *   表示モード（工程/作業者）や期間（週/月）を切り替えて確認できます。
*   **管理画面2 (ガント)**:
    *   バーを左右にドラッグして時間を変更できます。
    *   バーの端をドラッグして期間を伸縮できます。
    *   バーをダブルクリックすると削除確認が表示されます。
    *   「+ 新規追加」ボタンから新しいシフトを追加できます。

### 4. 保存
*   **保存**: 開いているCSVファイルを上書き保存します（対応ブラウザのみ）。
*   **保存(互換)**: 編集内容を新しいファイルとしてダウンロードします。

## 動作環境
*   推奨ブラウザ: Google Chrome, Microsoft Edge (最新版)
*   必須機能: JavaScript有効

## ファイル構成
```
ShiftBoard/
├── index.html          # アプリケーション本体
├── sample_data.csv     # サンプルデータ
├── assets/
│   └── style.css       # デザインスタイルシート
├── src/                # ソースコード
│   ├── app.js          # エントリーポイント
│   ├── model.js        # データモデル
│   ├── store.js        # 状態管理
│   ├── csv_io.js       # CSV入出力
│   ├── rules.js        # ビジネスロジック
│   ├── transform.js    # 表示用データ変換
│   └── ui_*.js         # 各画面のUIロジック
└── vendor/
    └── papaparse.min.js # CSV解析ライブラリ
```

## ライセンス
MIT License
